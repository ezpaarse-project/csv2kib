{"version":3,"file":"js/app.1ff04c2d.js","mappings":"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","sources":["webpack://csv2kib/./src/AppWrapper.vue","webpack://csv2kib/./src/App.vue","webpack://csv2kib/./src/App.vue?7ccd","webpack://csv2kib/./src/AppWrapper.vue?847e","webpack://csv2kib/./src/main.js","webpack://csv2kib/webpack/bootstrap","webpack://csv2kib/webpack/runtime/chunk loaded","webpack://csv2kib/webpack/runtime/compat get default export","webpack://csv2kib/webpack/runtime/define property getters","webpack://csv2kib/webpack/runtime/global","webpack://csv2kib/webpack/runtime/hasOwnProperty shorthand","webpack://csv2kib/webpack/runtime/publicPath","webpack://csv2kib/webpack/runtime/jsonp chunk loading","webpack://csv2kib/webpack/startup"],"sourcesContent":["<template>\n  <n-config-provider\n    :locale=\"frFR\"\n    :date-locale=\"dateFrFR\"\n    :hljs=\"hljs\"\n  >\n    <n-message-provider placement=\"bottom-right\">\n      <App />\n    </n-message-provider>\n  </n-config-provider>\n</template>\n\n<script>\nimport { defineComponent } from 'vue';\nimport {\n  frFR,\n  dateFrFR,\n  NConfigProvider,\n  NMessageProvider,\n} from 'naive-ui';\n\nimport hljs from 'highlight.js/lib/core';\nimport jsonLang from 'highlight.js/lib/languages/json';\n\nimport App from './App.vue';\n\nhljs.registerLanguage('json', jsonLang);\n\nexport default defineComponent({\n  name: 'AppWrapper',\n  components: {\n    App,\n    NConfigProvider,\n    NMessageProvider,\n  },\n  data() {\n    return {\n      hljs,\n      frFR,\n      dateFrFR,\n    };\n  },\n});\n</script>\n","<template>\n  <n-space vertical :size=\"20\" style=\"max-width: 800px; margin: 0 auto;\">\n    <n-card title=\"Fichier source\">\n      <n-p>\n        Déposez ici un fichier CSV contenant les valeurs à filtrer.\n      </n-p>\n\n      <n-upload\n        :file-list=\"[]\"\n        accept=\".csv\"\n        @before-upload=\"onFileSelect\"\n      >\n        <n-upload-dragger>\n          <div style=\"margin-bottom: 12px\">\n            <n-icon size=\"48\" :depth=\"3\">\n              <file-download-icon />\n            </n-icon>\n          </div>\n          <n-text style=\"font-size: 16px\">\n            Cliquez ou glissez votre fichier ici\n          </n-text>\n        </n-upload-dragger>\n      </n-upload>\n    </n-card>\n\n    <n-card title=\"Options\">\n      <n-form\n        label-placement=\"left\"\n        label-width=\"auto\"\n      >\n        <n-form-item label=\"Colonne contenant les valeurs\" path=\"formValue.selectedColumn\">\n          <n-select\n            v-model:value=\"formValue.selectedColumn\"\n            :options=\"csvHeaderOptions\"\n            :disabled=\"csvHeaderOptions.length === 0\"\n          />\n        </n-form-item>\n\n        <n-form-item label=\"Champ Kibana à filtrer\" path=\"formValue.kibanaField\">\n          <n-input v-model:value=\"formValue.kibanaField\" />\n        </n-form-item>\n      </n-form>\n    </n-card>\n\n    <n-card title=\"Filtre Kibana\">\n      <template #header-extra>\n        <n-space>\n          <n-button\n            type=\"info\"\n            secondary\n            icon\n            circle\n            @click=\"showHowTo = true\"\n          >\n            <template #icon>\n              <n-icon><question-mark-icon /></n-icon>\n            </template>\n          </n-button>\n\n          <n-button\n            type=\"primary\"\n            icon\n            :disabled=\"!queryPreview\"\n            @click=\"copyKibanaQuery\"\n          >\n            <template #icon>\n              <n-icon><copy-content-icon /></n-icon>\n            </template>\n            Copier\n          </n-button>\n        </n-space>\n      </template>\n\n      <n-p>\n        La requête ci-dessous est un aperçu basé sur un unique élément du jeu de données.\n        Cliquez sur le bouton <span class=\"code\">Copier</span>\n        pour récupérer la requête complète dans votre presse-papier.\n      </n-p>\n\n      <n-code\n        v-if=\"queryPreview\"\n        language=\"json\"\n        :code=\"queryPreview\"\n      />\n\n      <n-empty v-else description=\"Aperçu indisponible\">\n        <template #icon>\n          <n-icon>\n            <code-icon />\n          </n-icon>\n        </template>\n        <template #extra>\n          <n-text depth=\"3\">\n            Sélectionnez un fichier et saisissez vos paramètres.\n          </n-text>\n        </template>\n      </n-empty>\n    </n-card>\n  </n-space>\n\n  <n-drawer\n    v-model:show=\"showHowTo\"\n    :width=\"500\"\n    placement=\"right\"\n  >\n    <n-drawer-content title=\"Guide d'utilisation\">\n      <template v-for=\"(image, index) in howToImages\" :key=\"image.src\">\n        <n-divider title-placement=\"center\">\n          Étape {{ index + 1 }}\n        </n-divider>\n\n        <n-p>{{ image.title }}</n-p>\n\n        <img\n          :src=\"image.src\"\n          :alt=\"image.alt\"\n          style=\"border: 1px solid #e0e0e0; border-radius: 3px;\"\n        >\n      </template>\n    </n-drawer-content>\n  </n-drawer>\n</template>\n\n<script>\nimport { defineComponent } from 'vue';\nimport Papa from 'papaparse';\nimport hljs from 'highlight.js/lib/core';\nimport jsonLang from 'highlight.js/lib/languages/json';\n\nimport {\n  useMessage,\n} from 'naive-ui';\n\nhljs.registerLanguage('json', jsonLang);\n\nconst howto01 = require('@/assets/howto_01.jpeg'); // eslint-disable-line import/no-unresolved\nconst howto02 = require('@/assets/howto_02.jpeg'); // eslint-disable-line import/no-unresolved\nconst howto03 = require('@/assets/howto_03.jpeg'); // eslint-disable-line import/no-unresolved\n\nexport default defineComponent({\n  name: 'App',\n  setup() {\n    window.$message = useMessage();\n  },\n  data() {\n    return {\n      formValue: {\n        selectedColumn: null,\n        kibanaField: '',\n      },\n      csvHeaders: [],\n      csvRows: [],\n      showHowTo: false,\n      howToImages: [\n        {\n          src: howto01,\n          alt: 'Image tuto 01',\n          title: 'Cliquez sur \"Add filter\".',\n        },\n        {\n          src: howto02,\n          alt: 'Image tuto 02',\n          title: 'Cliquez sur \"Edit as Query DSL\".',\n        },\n        {\n          src: howto03,\n          alt: 'Image tuto 03',\n          title: 'Collez la requête dans \"Elasticsearch Query DSL\".',\n        },\n      ],\n    };\n  },\n  computed: {\n    csvHeaderOptions() {\n      return this.csvHeaders.map((label) => ({ label, value: label }));\n    },\n    configIsReady() {\n      if (!this.csvRows.length === 0) { return false; }\n      if (!this.formValue.selectedColumn) { return false; }\n      if (!this.formValue.kibanaField.trim()) { return false; }\n      return true;\n    },\n    queryPreview() {\n      return this.getKibanaQuery({ limit: 1 });\n    },\n  },\n  watch: {\n    'formValue.selectedColumn': function selectedColumn(newVal, oldVal) {\n      if (!this.formValue.kibanaField || this.formValue.kibanaField === oldVal) {\n        this.formValue.kibanaField = newVal;\n      }\n    },\n  },\n  methods: {\n    getKibanaQuery(opts = {}) {\n      if (!this.configIsReady) { return ''; }\n\n      const should = this.csvRows\n        .filter((row) => row[this.formValue.selectedColumn])\n        .slice(0, opts?.limit)\n        .map((row) => ({\n          match_phrase: {\n            [this.formValue.kibanaField]: row[this.formValue.selectedColumn],\n          },\n        }));\n\n      const kibanaQuery = {\n        query: {\n          bool: {\n            minimum_should_match: 1,\n            should,\n          },\n        },\n      };\n\n      return JSON.stringify(kibanaQuery, null, 2);\n    },\n    onFileSelect(data) {\n      const file = data?.file?.file;\n\n      if (!file) { return; }\n      if (!/\\.csv$/i.test(file.name)) {\n        window.$message.error('Le fichier importé n\\'est pas au format CSV');\n        return;\n      }\n\n      this.csvHeaders = [];\n      this.csvRows = [];\n      this.formValue.selectedColumn = null;\n\n      Papa.parse(file, {\n        delimiter: ';',\n        header: true,\n        transformHeader: (header) => {\n          this.csvHeaders.push(header);\n          return header;\n        },\n        complete: ({ data: rows, errors }) => {\n          if (errors.length > 1) {\n            errors.forEach((e) => console.error(e));\n          }\n          this.csvRows = rows;\n          [this.formValue.selectedColumn] = this.csvHeaders;\n        },\n      });\n    },\n\n    async copyKibanaQuery() {\n      if (!navigator.clipboard) {\n        window.$message.error('Presse-papier non disponible');\n        return;\n      }\n      try {\n        await navigator.clipboard.writeText(this.getKibanaQuery());\n      } catch (e) {\n        window.$message.error('La copie a échoué');\n        return;\n      }\n      window.$message.success('Query copiée dans le presse-papier');\n    },\n  },\n});\n</script>\n","import { render } from \"./App.vue?vue&type=template&id=95ca2762\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/csv2kib/csv2kib/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AppWrapper.vue?vue&type=template&id=679ec4d4\"\nimport script from \"./AppWrapper.vue?vue&type=script&lang=js\"\nexport * from \"./AppWrapper.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/csv2kib/csv2kib/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import 'vfonts/FiraCode.css';\nimport './styles.css';\n\nimport { createApp } from 'vue';\n\nimport {\n  NSpace,\n  NCard,\n  NCode,\n  NButton,\n  NDrawer,\n  NDrawerContent,\n  NDivider,\n  NEmpty,\n  NForm,\n  NFormItem,\n  NInput,\n  NSelect,\n  NUpload,\n  NUploadDragger,\n  NIcon,\n  NText,\n  NP,\n} from 'naive-ui';\n\nimport {\n  CodeFilled,\n  FileDownloadOutlined,\n  QuestionMarkFilled,\n  ContentCopyOutlined,\n} from '@vicons/material';\n\nimport App from './AppWrapper.vue';\n\nconst app = createApp(App);\n\napp.component('n-space', NSpace);\napp.component('n-card', NCard);\napp.component('n-code', NCode);\napp.component('n-button', NButton);\napp.component('n-drawer', NDrawer);\napp.component('n-drawer-content', NDrawerContent);\napp.component('n-divider', NDivider);\napp.component('n-empty', NEmpty);\napp.component('n-form', NForm);\napp.component('n-form-item', NFormItem);\napp.component('n-input', NInput);\napp.component('n-select', NSelect);\napp.component('n-upload', NUpload);\napp.component('n-upload-dragger', NUploadDragger);\napp.component('n-icon', NIcon);\napp.component('n-text', NText);\napp.component('n-p', NP);\n\napp.component('file-download-icon', FileDownloadOutlined);\napp.component('code-icon', CodeFilled);\napp.component('question-mark-icon', QuestionMarkFilled);\napp.component('copy-content-icon', ContentCopyOutlined);\n\napp.mount('#app');\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"/csv2kib/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkcsv2kib\"] = self[\"webpackChunkcsv2kib\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(884); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_n_config_provider","locale","_ctx","hljs","_createVNode","_component_n_message_provider","placement","_component_App","style","_createElementVNode","class","_component_n_space","vertical","size","_component_n_card","title","_component_n_p","_component_n_upload","accept","onBeforeUpload","_component_n_upload_dragger","_component_n_icon","depth","_component_file_download_icon","_component_n_text","_component_n_form","_component_n_form_item","label","path","_component_n_select","value","selectedColumn","$event","options","disabled","length","_component_n_input","kibanaField","_withCtx","_component_n_button","type","secondary","icon","circle","onClick","_component_question_mark_icon","_component_copy_content_icon","_component_n_code","language","code","_component_n_empty","description","_component_code_icon","extra","_component_n_drawer","show","width","_component_n_drawer_content","_createElementBlock","_Fragment","_renderList","image","index","src","_component_n_divider","_toDisplayString","alt","jsonLang","howto01","require","howto02","howto03","defineComponent","name","setup","window","$message","useMessage","data","formValue","csvHeaders","csvRows","showHowTo","howToImages","computed","csvHeaderOptions","this","map","configIsReady","trim","queryPreview","getKibanaQuery","limit","watch","newVal","oldVal","methods","opts","should","filter","row","slice","match_phrase","kibanaQuery","query","bool","minimum_should_match","JSON","stringify","onFileSelect","file","test","Papa","delimiter","header","transformHeader","push","complete","rows","errors","forEach","e","console","error","async","navigator","clipboard","writeText","success","__exports__","components","App","NConfigProvider","NMessageProvider","frFR","dateFrFR","render","app","createApp","component","NSpace","NCard","NCode","NButton","NDrawer","NDrawerContent","NDivider","NEmpty","NForm","NFormItem","NInput","NSelect","NUpload","NUploadDragger","NIcon","NText","NP","FileDownloadOutlined","CodeFilled","QuestionMarkFilled","ContentCopyOutlined","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","key","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}